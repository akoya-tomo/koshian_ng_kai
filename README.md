## <sub><img src="koshian_ng/icons/icon-48.png"></sub> KOSHIAN NG 改
このFirefoxアドオンはふたば☆ちゃんねるでNGワードを表示しないようにする[Pachira](https://addons.mozilla.org/ja/firefox/user/anonymous-a0bba9187b568f98732d22d51c5955a6/)氏の[KOSHIAN NG](https://addons.mozilla.org/ja/firefox/addon/koshian-ng/)を改変したものです。  
メール欄などをNG判定範囲に含める機能をオリジナル版に追加しています。  

※このアドオンはWebExtensionアドオン対応のFirefox専用となります。  
※他のKOSHIAN改変版などのふたば支援ツールは[こちら](https://github.com/akoya-tomo/futaba_auto_reloader_K/wiki/)。  

## 機能
* オリジナルの機能（KOSHIAN NG）
  - スレ画面でNGワードを含むレスを隠す
* 追加された機能（KOSHIAN NG 改）
  - NGワードの判定範囲に「メール欄など」を追加  
    NGワードを判定する範囲をレス本文に加えてメール欄・題名・Name・ID・IPを追加しました。  
    NGワードの登録画面で判定範囲（「本文」「メール欄など」）をNGワード単位で選択できます。  
  - NGワードの判定に大文字・小文字を区別しない設定を追加  
    NGワードの登録画面で「大文字・小文字を区別しない」をNGワード単位で選択できます。  
  - ツールバーボタンからNGワードを登録する機能を追加  
    ツールバーボタンのポップアップからNGワードを直接登録することができます。  
    またポップアップの右上の[設定]ボタンから設定画面を開くことができます。  
    NGにしたい文字列を選択してからツールバーボタンを押すとNGワード入力欄に反映されます。  
  - 設定の変更やNGワードの登録が直ぐにスレに反映されるように変更  
    スレを更新しなくても設定の変更やNGワードの登録が直ぐに反映されます。

## インストール
**GitHub**  
[![インストールボタン](images/install_button.png "クリックでアドオンをインストール")](https://github.com/akoya-tomo/koshian_ng_kai/releases/download/v1.3.0/koshian_ng_kai-1.3.0-an+fx.xpi)

※「接続エラーのため、アドオンをダウンロードできませんでした。」と表示されてインストール出来ないときはインストールボタンを右クリックしてxpiファイルをダウンロードし、メニューのツール→アドオン（またはCtrl+Shift+A）で表示されたアドオンマネージャーのページにxpiファイルをドラッグ＆ドロップして下さい。  

## 追加機能の補足
* NGワードを登録した後でも「本文」「メール欄など」「大文字・小文字を区別しない」のチェックは自由に変更できます。「本文」「メ欄」のチェックを外せば、NGワードを登録したまま無効にすることもできます。  
* NGワードに登録済みと同じワードを登録すると重複せず新しい設定に上書きされます。  

## 注意事項
* 本アドオンを有効にしたときはオリジナル版を無効にするか削除して下さい。  
* オリジナル版とは別アドオンなので設定は初期値に戻ります。  
  再度設定をお願い致します。  

## 今後の予定
* NGワードのエクスポート・インポート  
* 一時的なNGワードの登録  
  - 永続的な登録を必要としないIDやIPの登録を想定しています。  

## 更新履歴
* v1.3.0 2018-09-12
  - \[NGワード\]ボタンにマウスオーバーすると該当したNGワードをポップアップ表示する機能を追加
  - ツールバーボタンを押したときに選択した文字列に正規表現でエスケープが必要な文字が含まれていたらエスケープを追加するように修正
  - 赤福Extendedのリロード検出を修正
  - スレ内のNGワードの検索速度を改善
  - レス内のIPの全ての文字列を取得できていない不具合を修正
* v1.2.2 2018-09-09
  - [赤福Extended](https://toshiakisp.github.io/akahuku-firefox-sp/)のリロードに対応
* v1.2.1 2018-05-14
  - NGワード登録で[隠す]ボタンで隠したレスが表示される不具合を修正
* v1.2.0 2018-05-14
  - ツールバーボタンからポップアップを開くときに選択文字列をNGワード入力欄へ反映する機能を追加
  - NGワード登録で隠れた削除レスが表示される不具合を修正
* v1.1.0 2018-05-01
  - ツールバーボタンからNGワードを登録する機能を追加
  - 設定の変更やNGワードの登録が直ぐにスレに反映されるように変更
  - 登録済みのNGワードを登録すると上書きするように変更
* v1.0.0 2018-04-18
  - KOSHIAN NG v1.1.1ベース
  - NGワードの判定範囲に「メール欄など」を追加
  - NGワードの大文字/小文字を区別しない設定を追加
  - [NGワード]ボタンにボタンのサイズ設定を反映
  - アドオン更新後の[隠す]ボタンの重複を抑止
